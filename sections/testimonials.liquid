{% schema %}
{
  "name": "Testimonials",
  "settings": [],
  "blocks": [
    {
      "type": "testimonial",
      "name": "Testimonial",
      "settings": [
        {
          "type": "image_picker",
          "id": "photo",
          "label": "Customer Photo"
        },
        {
          "type": "text",
          "id": "name",
          "label": "Customer Name"
        },
        {
          "type": "text",
          "id": "product",
          "label": "Product Name"
        },
        {
          "type": "range",
          "id": "stars",
          "min": 1,
          "max": 5,
          "step": 1,
          "label": "Star Rating",
          "default": 5
        },
        {
          "type": "textarea",
          "id": "review",
          "label": "Customer Review"
        }
      ]
    }
  ],
  "max_blocks": 6,
  "presets": [{
    "name": "Testimonials Section"
  }]
}
{% endschema %}

<div class="testimonial-section page-width">
  <div class="testimonials-grid">
    {% for block in section.blocks %}
      <div class="testimonial-card">
     
        <div class="testimonial-content">
            <div class="testimonial-content-image-text">
                {% if block.settings.photo != blank %}
                    <img src="{{ block.settings.photo | img_url: '100x100' }}" alt="{{ block.settings.name }}" class="testimonial-photo" width="100" height="100">
                {% endif %}
                <div class="stars">
                {% for i in (1..block.settings.stars) %}
                    <span>
                        ★
                    </span>
                {% endfor %}
                </div>
            </div>
          <p><strong>{{ block.settings.name }}</strong> reviews <strong>{{ block.settings.product }}</strong></p>
          <p>“{{ block.settings.review }}”</p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<style>
.testimonials-grid {
  display: flex;
  gap: 20px;
  flex-wrap: wrap;
  justify-content: space-between;
}
.testimonial-card {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  width: 250px;
}
.testimonial-photo {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 10px;
}

.testimonial-content {
    font-size: 14px;
}

.testimonial-content-image-text {
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.stars {
  color: white; /* Trustpilot green */
  margin-bottom: 10px;
  font-size: 12px;
  letter-spacing: 0;
}
.stars span {
    background-color: #00B67A;
    text-align: center;
    padding: 2px;
    letter-spacing: 0;
    margin-right: 5px;
}
</style>
